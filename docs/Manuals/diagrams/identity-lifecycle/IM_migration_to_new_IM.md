# Migrating to a new IdentityManager

Lets imagine the situation when users want to migrate to a new IdentityManager, such scenario is totally feasible. In order to exemplify this, assume John as an identity that was created using Acme Identity Manager contract but something happened and he decides to migrate to a new Identity Manager contract lets name this CorpIM. The following diagram shows the logical flow when a new IdentityManager replaces an old one.

[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5cdGF1dG9udW1iZXJcblx0Sm9obkRldmljZUEtPj5BY21lSU0vdXBncmFkZTogcmVnaXN0ZXI8YnIvPkNvcnBJTVxuXHRhbHQgaGFzIEpvaG5EZXZpY2VBIEFkbWluIENhcGFiaWxpdHk_XG5cdEFjbWVJTS91cGdyYWRlLT4-Sm9oblByb3h5L2FkZE93bmVyOiBhZGQgQ29ycElNXG5cdGFsdCBpcyBBY21lSU0gT3duZXIgb2YgSmhvbiBQcm94eT9cblx0XHRKb2huUHJveHkvYWRkT3duZXItPj5Kb2huUHJveHkvYWRkT3duZXI6IEFkZDxici8-IENvcnBJTTxici8-YXMgbmV3IG93bmVyXG5cdFx0Sm9oblByb3h5L2FkZE93bmVyLS0-PkFjbWVJTS91cGdyYWRlOiBjb250aW51ZVxuXHRcblx0XG5cdEFjbWVJTS91cGdyYWRlLT4-Sm9oblByb3h5L3Jlbm91bmNlOiByZW1vdmUgb2xkIEFjbWVJTVxuXHRhbHQgaXMgQWNtZUlNIE93bmVyIG9mIEpvaG5Qcm94eVx0XHRcblx0XHRKb2huUHJveHkvcmVub3VuY2UtPj5Kb2huUHJveHkvcmVub3VuY2U6IFJlbW92ZTxici8-IE9sZCBBY21lSU1cblx0XHRKb2huUHJveHkvcmVub3VuY2UtLT4-QWNtZUlNL3VwZ3JhZGU6IGNvbnRpbnVlXG5cdFxuXG5cdEFjbWVJTS91cGdyYWRlLT4-Q29ycElNL3JlZ2lzdGVySWRlbnRpdHk6IHJlZ2lzdGVyIGV4aXN0aW5nIHByb3h5IHRvIHRoZSBuZXcgQWNtZUlNXG5cdENvcnBJTS9yZWdpc3RlcklkZW50aXR5LT4-Q29ycElNL3JlZ2lzdGVySWRlbnRpdHk6IGNoZWNrIEpvaG5Qcm94eTxici8-IGlzIG5vdCByZWdpc3RlcmVkXG5cdENvcnBJTS9yZWdpc3RlcklkZW50aXR5LT4-Q29ycElNL3JlZ2lzdGVySWRlbnRpdHk6IHJlZ2lzdGVyIEpvaG5Qcm94eVxuXHRDb3JwSU0vcmVnaXN0ZXJJZGVudGl0eS0-PkNvcnBJTS9yZWdpc3RlcklkZW50aXR5OiB2ZXJpZnkgQ29ycElNPGJyLz4gb3ducyBKb2huUHJveHlcblx0Q29ycElNL3JlZ2lzdGVySWRlbnRpdHktPj5Db3JwSU0vcmVnaXN0ZXJJZGVudGl0eTogc2V0IEpvaG5EZXZpY2VBIHdpdGggYWxsPGJyLz4gY2FwYWJpbGl0aWVzXG5cdENvcnBJTS9yZWdpc3RlcklkZW50aXR5LS0-PkpvaG5EZXZpY2VBOiBJZGVudGl0eSByZWdpc3RlcmVkIChldmVudClcblx0Q29ycElNL3JlZ2lzdGVySWRlbnRpdHktLT4-QWNtZUlNL3VwZ3JhZGU6IG9rXG5cdEFjbWVJTS91cGdyYWRlLT4-QWNtZUlNL3VwZ3JhZGU6IHVucmVnaXN0ZXIgSm9oblByb3h5XG5cdEFjbWVJTS91cGdyYWRlLS0-PkpvaG5EZXZpY2VBOiBJZGVudGl0eSB1cGdyYWRlZCAoZXZlbnQpXG5cblx0ZWxzZSBvdGhlcndpc2Vcblx0XHRKb2huUHJveHkvcmVub3VuY2UtLT4-Sm9obkRldmljZUE6IFRocm93XG5cdGVuZFxuXG5cdGVsc2Ugb3RoZXJ3aXNlXG5cdFx0Sm9oblByb3h5L2FkZE93bmVyLS0-PkpvaG5EZXZpY2VBOiBUaHJvd1xuXHRlbmRcblxuXHRlbHNlIG90aGVyd2lzZVxuXHRcdEFjbWVJTS91cGdyYWRlLS0-PkpvaG5EZXZpY2VBOiBUaHJvd1xuXHRlbmQiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5cdGF1dG9udW1iZXJcblx0Sm9obkRldmljZUEtPj5BY21lSU0vdXBncmFkZTogcmVnaXN0ZXI8YnIvPkNvcnBJTVxuXHRhbHQgaGFzIEpvaG5EZXZpY2VBIEFkbWluIENhcGFiaWxpdHk_XG5cdEFjbWVJTS91cGdyYWRlLT4-Sm9oblByb3h5L2FkZE93bmVyOiBhZGQgQ29ycElNXG5cdGFsdCBpcyBBY21lSU0gT3duZXIgb2YgSmhvbiBQcm94eT9cblx0XHRKb2huUHJveHkvYWRkT3duZXItPj5Kb2huUHJveHkvYWRkT3duZXI6IEFkZDxici8-IENvcnBJTTxici8-YXMgbmV3IG93bmVyXG5cdFx0Sm9oblByb3h5L2FkZE93bmVyLS0-PkFjbWVJTS91cGdyYWRlOiBjb250aW51ZVxuXHRcblx0XG5cdEFjbWVJTS91cGdyYWRlLT4-Sm9oblByb3h5L3Jlbm91bmNlOiByZW1vdmUgb2xkIEFjbWVJTVxuXHRhbHQgaXMgQWNtZUlNIE93bmVyIG9mIEpvaG5Qcm94eVx0XHRcblx0XHRKb2huUHJveHkvcmVub3VuY2UtPj5Kb2huUHJveHkvcmVub3VuY2U6IFJlbW92ZTxici8-IE9sZCBBY21lSU1cblx0XHRKb2huUHJveHkvcmVub3VuY2UtLT4-QWNtZUlNL3VwZ3JhZGU6IGNvbnRpbnVlXG5cdFxuXG5cdEFjbWVJTS91cGdyYWRlLT4-Q29ycElNL3JlZ2lzdGVySWRlbnRpdHk6IHJlZ2lzdGVyIGV4aXN0aW5nIHByb3h5IHRvIHRoZSBuZXcgQWNtZUlNXG5cdENvcnBJTS9yZWdpc3RlcklkZW50aXR5LT4-Q29ycElNL3JlZ2lzdGVySWRlbnRpdHk6IGNoZWNrIEpvaG5Qcm94eTxici8-IGlzIG5vdCByZWdpc3RlcmVkXG5cdENvcnBJTS9yZWdpc3RlcklkZW50aXR5LT4-Q29ycElNL3JlZ2lzdGVySWRlbnRpdHk6IHJlZ2lzdGVyIEpvaG5Qcm94eVxuXHRDb3JwSU0vcmVnaXN0ZXJJZGVudGl0eS0-PkNvcnBJTS9yZWdpc3RlcklkZW50aXR5OiB2ZXJpZnkgQ29ycElNPGJyLz4gb3ducyBKb2huUHJveHlcblx0Q29ycElNL3JlZ2lzdGVySWRlbnRpdHktPj5Db3JwSU0vcmVnaXN0ZXJJZGVudGl0eTogc2V0IEpvaG5EZXZpY2VBIHdpdGggYWxsPGJyLz4gY2FwYWJpbGl0aWVzXG5cdENvcnBJTS9yZWdpc3RlcklkZW50aXR5LS0-PkpvaG5EZXZpY2VBOiBJZGVudGl0eSByZWdpc3RlcmVkIChldmVudClcblx0Q29ycElNL3JlZ2lzdGVySWRlbnRpdHktLT4-QWNtZUlNL3VwZ3JhZGU6IG9rXG5cdEFjbWVJTS91cGdyYWRlLT4-QWNtZUlNL3VwZ3JhZGU6IHVucmVnaXN0ZXIgSm9oblByb3h5XG5cdEFjbWVJTS91cGdyYWRlLS0-PkpvaG5EZXZpY2VBOiBJZGVudGl0eSB1cGdyYWRlZCAoZXZlbnQpXG5cblx0ZWxzZSBvdGhlcndpc2Vcblx0XHRKb2huUHJveHkvcmVub3VuY2UtLT4-Sm9obkRldmljZUE6IFRocm93XG5cdGVuZFxuXG5cdGVsc2Ugb3RoZXJ3aXNlXG5cdFx0Sm9oblByb3h5L2FkZE93bmVyLS0-PkpvaG5EZXZpY2VBOiBUaHJvd1xuXHRlbmRcblxuXHRlbHNlIG90aGVyd2lzZVxuXHRcdEFjbWVJTS91cGdyYWRlLS0-PkpvaG5EZXZpY2VBOiBUaHJvd1xuXHRlbmQiLCJtZXJtYWlkIjp7InRoZW1lIjoiZGVmYXVsdCJ9LCJ1cGRhdGVFZGl0b3IiOmZhbHNlfQ)

As shown in the prevous diagram, a new IdentityManager (CorpIM) has replaced an old one (AcmeIM)

* It is worth to say that only "device A", which has the ADMINISTRATOR capability, can perform this action.

Some steps have been omited, for more information please check the identity contracts in this repository.
