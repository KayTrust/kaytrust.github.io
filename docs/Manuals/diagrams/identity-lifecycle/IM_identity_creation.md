# Creating an identity for a user through the IdentityManager Contract

Assumptions:

* In order to show how to interact with the IdentityManager contract assume an already deployed instance of that and lets call it AcmeIdentityManager. Now thorugh this contract many users can deploy their identities.

* Lets say John have a device (JohnDevice), he wants to create his identity and register a device in order to use it to execute actions related to his identity. Lets see what is the flow to do that.

[![](https://mermaid.ink/img/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5cdGF1dG9udW1iZXJcblx0Sm9obkRldmljZUEtPj5BY21lSWRlbnRpdHlNYW5hZ2VyOiB0YWtlIHRoaXMgZGF0YSAobXkgbWV0YWRhdGEpPGJyLz4gYW5kIGNyZWF0ZSBteSBpZGVudGl0eVxuXG5cdHJlY3QgcmdiKDI0MSwgMTk2LCAxNSlcblx0QWNtZUlkZW50aXR5TWFuYWdlci0-PkFjbWVJZGVudGl0eU1hbmFnZXI6IENyZWF0ZSBhIFByb3h5IENvbnRyYWN0KEpvaG5Qcm94eSlcblx0QWNtZUlkZW50aXR5TWFuYWdlci0-PkpvaG5Qcm94eTogc2V0IGNvbnN0cnVjdG9yXG5cdG5vdGUgcmlnaHQgb2YgSm9oblByb3h5OiBBbGxvd3MgcmVjb3Zlcnk8YnI-Y2FwYWJpbGl0eSB0aG9ydWdoPGJyLz5LYXl0cnVzdCBJZGVudGl0eTxici8-TWFuYWdlclxuXHRKb2huUHJveHktPj5Kb2huUHJveHk6IHNldCBBY21lSWRlbnRpdHlNYW5hZ2VyPGJyLz5hcyBpdHMgZmlyc3Qgb3duZXJcblx0Sm9oblByb3h5LS0-PkFjbWVJZGVudGl0eU1hbmFnZXI6IG9rXG5cdGVuZFxuXG5cdHJlY3QgcmdiKDI0MSwgMTk2LDE1KVxuXHROb3RlIHJpZ2h0IG9mIEFjbWVJZGVudGl0eU1hbmFnZXI6IHNldCBjYXBhYmlsaXRpZXMgZm9yPGJyLz4gSm9obkRldmljZUEgdG8gPGJyPiBoYW5kbGUgSm9oblByb3h5XG5cdEFjbWVJZGVudGl0eU1hbmFnZXItPj5BY21lSWRlbnRpdHlNYW5hZ2VyOiBmb3J3YXJkLCBhdXRoZW50aWNhdGUsIG1hbmFnZXIsIGFkbWluaXN0cmF0b3Jcblx0QWNtZUlkZW50aXR5TWFuYWdlci0-PkpvaG5EZXZpY2VBOlJldHVybiBKb2huUHJveHkgYWRkcmVzcyA8YnIvPihub3cgSm9obkRldmljZUEgPGJyLz4gY2FuIGludGVyYWN0IHRob3VnaDxici8-IEpvaG5Qcm94eSk8YnIvPiBcblx0ZW5kIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)](https://mermaid-js.github.io/mermaid-live-editor/#/edit/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5cdGF1dG9udW1iZXJcblx0Sm9obkRldmljZUEtPj5BY21lSWRlbnRpdHlNYW5hZ2VyOiB0YWtlIHRoaXMgZGF0YSAobXkgbWV0YWRhdGEpPGJyLz4gYW5kIGNyZWF0ZSBteSBpZGVudGl0eVxuXG5cdHJlY3QgcmdiKDI0MSwgMTk2LCAxNSlcblx0QWNtZUlkZW50aXR5TWFuYWdlci0-PkFjbWVJZGVudGl0eU1hbmFnZXI6IENyZWF0ZSBhIFByb3h5IENvbnRyYWN0KEpvaG5Qcm94eSlcblx0QWNtZUlkZW50aXR5TWFuYWdlci0-PkpvaG5Qcm94eTogc2V0IGNvbnN0cnVjdG9yXG5cdG5vdGUgcmlnaHQgb2YgSm9oblByb3h5OiBBbGxvd3MgcmVjb3Zlcnk8YnI-Y2FwYWJpbGl0eSB0aG9ydWdoPGJyLz5LYXl0cnVzdCBJZGVudGl0eTxici8-TWFuYWdlclxuXHRKb2huUHJveHktPj5Kb2huUHJveHk6IHNldCBBY21lSWRlbnRpdHlNYW5hZ2VyPGJyLz5hcyBpdHMgZmlyc3Qgb3duZXJcblx0Sm9oblByb3h5LS0-PkFjbWVJZGVudGl0eU1hbmFnZXI6IG9rXG5cdGVuZFxuXG5cdHJlY3QgcmdiKDI0MSwgMTk2LDE1KVxuXHROb3RlIHJpZ2h0IG9mIEFjbWVJZGVudGl0eU1hbmFnZXI6IHNldCBjYXBhYmlsaXRpZXMgZm9yPGJyLz4gSm9obkRldmljZUEgdG8gPGJyPiBoYW5kbGUgSm9oblByb3h5XG5cdEFjbWVJZGVudGl0eU1hbmFnZXItPj5BY21lSWRlbnRpdHlNYW5hZ2VyOiBmb3J3YXJkLCBhdXRoZW50aWNhdGUsIG1hbmFnZXIsIGFkbWluaXN0cmF0b3Jcblx0QWNtZUlkZW50aXR5TWFuYWdlci0-PkpvaG5EZXZpY2VBOlJldHVybiBKb2huUHJveHkgYWRkcmVzcyA8YnIvPihub3cgSm9obkRldmljZUEgPGJyLz4gY2FuIGludGVyYWN0IHRob3VnaDxici8-IEpvaG5Qcm94eSk8YnIvPiBcblx0ZW5kIiwibWVybWFpZCI6eyJ0aGVtZSI6ImRlZmF1bHQifSwidXBkYXRlRWRpdG9yIjpmYWxzZX0)

* At the end John has created a Proxy contract (ProxyA). ProxyA represents JhonDevice. So from now, all actions performed by John through its device (JohnDeviceA) will be executed through ProxyA.
* Note how the identity manager facilitates this process by setting up all what is needed an simply returning the proxy contract address to John.
* When setting the first device (JohnDeviceA) it has all the capabilities.
